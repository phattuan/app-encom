{"ast":null,"code":"import _objectSpread from\"C:/Users/ASUS/Desktop/project/encom-tp-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/ASUS/Desktop/project/encom-tp-app/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"isAdmin\",\"component\"];import React,{Fragment}from'react';import{Route,Redirect}from'react-router-dom';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";var ProtectedRoute=function ProtectedRoute(_ref){var isAdmin=_ref.isAdmin,Component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);var _useSelector=useSelector(function(state){return state.auth;}),isAuthenticated=_useSelector.isAuthenticated,loading=_useSelector.loading,user=_useSelector.user;return/*#__PURE__*/_jsx(Fragment,{children:loading===false&&/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){if(isAuthenticated===false){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}if(isAdmin===true&&user.role!=='admin'){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(Component,_objectSpread({},props));}}))});};export default ProtectedRoute;","map":{"version":3,"names":["React","Fragment","Route","Redirect","useSelector","jsx","_jsx","ProtectedRoute","_ref","isAdmin","Component","component","rest","_objectWithoutProperties","_excluded","_useSelector","state","auth","isAuthenticated","loading","user","children","_objectSpread","render","props","to","role"],"sources":["C:/Users/ASUS/Desktop/project/encom-tp-app/frontend/src/components/route/ProtectedRoute.js"],"sourcesContent":["import React, { Fragment } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\n\n    const { isAuthenticated, loading, user } = useSelector(state => state.auth)\n\n    return (\n        <Fragment>\n            {loading === false && (\n                <Route\n                    {...rest}\n                    render={props => {\n                        if (isAuthenticated === false) {\n                            return <Redirect to='/login' />\n                        }\n\n                        if (isAdmin === true && user.role !== 'admin') {\n                            return <Redirect to=\"/\" />\n                        }\n\n                        return <Component {...props} />\n                    }}\n                />\n            )}\n        </Fragment>\n    )\n}\n\nexport default ProtectedRoute\n"],"mappings":"2UAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAClD,OAASC,WAAW,KAAQ,aAAa,QAAAC,GAAA,IAAAC,IAAA,yBAEzC,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAAmD,IAA7C,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAaC,SAAS,CAAAF,IAAA,CAApBG,SAAS,CAAgBC,IAAI,CAAAC,wBAAA,CAAAL,IAAA,CAAAM,SAAA,EAE5D,IAAAC,YAAA,CAA2CX,WAAW,CAAC,SAAAY,KAAK,QAAI,CAAAA,KAAK,CAACC,IAAI,GAAC,CAAnEC,eAAe,CAAAH,YAAA,CAAfG,eAAe,CAAEC,OAAO,CAAAJ,YAAA,CAAPI,OAAO,CAAEC,IAAI,CAAAL,YAAA,CAAJK,IAAI,CAEtC,mBACId,IAAA,CAACL,QAAQ,EAAAoB,QAAA,CACJF,OAAO,GAAK,KAAK,eACdb,IAAA,CAACJ,KAAK,CAAAoB,aAAA,CAAAA,aAAA,IACEV,IAAI,MACRW,MAAM,CAAE,SAAAA,OAAAC,KAAK,CAAI,CACb,GAAIN,eAAe,GAAK,KAAK,CAAE,CAC3B,mBAAOZ,IAAA,CAACH,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACnC,CAEA,GAAIhB,OAAO,GAAK,IAAI,EAAIW,IAAI,CAACM,IAAI,GAAK,OAAO,CAAE,CAC3C,mBAAOpB,IAAA,CAACH,QAAQ,EAACsB,EAAE,CAAC,GAAG,CAAE,CAAC,CAC9B,CAEA,mBAAOnB,IAAA,CAACI,SAAS,CAAAY,aAAA,IAAKE,KAAK,CAAG,CAAC,CACnC,CAAE,EACL,CACJ,CACK,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAjB,cAAc"},"metadata":{},"sourceType":"module"}